<div class="container">
    <div class="header-section">
        <h2>Planes de Suscripción</h2>
        <button mat-raised-button class="btn-nuevo-plan" [routerLink]="['insertar']">
            <mat-icon>add</mat-icon>
            Nuevo Plan
        </button>
    </div>

    <div class="cards-grid">
        @if (obs | async; as planes) {
            @for (plan of planes; track plan.idPlanesSuscripcion) {
                <mat-card class="plan-card">
                    <mat-card-header class="card-header-custom">
                        <mat-card-title>{{ plan.nombre_plan }}</mat-card-title>
                        <mat-card-subtitle class="price-tag">
                            S/. {{ plan.precio }} <span class="period">/ mes</span>
                        </mat-card-subtitle>
                    </mat-card-header>

                    <mat-card-content class="card-content-custom">
                        <p class="description">{{ plan.descripcion }}</p>
                        
                        <div class="features-list">
                            <div class="feature-item">
                                <mat-icon class="check-icon">check_circle</mat-icon>
                                <span>Beneficio activo</span>
                            </div>
                        </div>
                    </mat-card-content>

                    <mat-card-actions align="end">
                        <button mat-button color="primary" [routerLink]="['editar', plan.idPlanesSuscripcion]">
                            <mat-icon>edit</mat-icon> Editar
                        </button>
                        <button mat-button color="warn" (click)="eliminar(plan.idPlanesSuscripcion)">
                            <mat-icon>delete</mat-icon> Eliminar
                        </button>
                    </mat-card-actions>
                </mat-card>
            } @empty {
                <div class="no-records">
                    <p>No hay planes registrados todavía.</p>
                </div>
            }
        }
    </div>

    <mat-paginator [pageSizeOptions]="[3, 6, 9]" showFirstLastButtons></mat-paginator>
</div>